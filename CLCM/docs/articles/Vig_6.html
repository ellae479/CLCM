<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vignette_6 • CLCM</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Vignette_6">
<meta property="og:description" content="CLCM">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CLCM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Vig_1.html">Vignette_1</a>
    </li>
    <li>
      <a href="../articles/Vig_2.html">Vignette_2</a>
    </li>
    <li>
      <a href="../articles/Vig_3.html">Vignette_3</a>
    </li>
    <li>
      <a href="../articles/Vig_4.html">Vignette_4</a>
    </li>
    <li>
      <a href="../articles/Vig_5.html">Vignette_5</a>
    </li>
    <li>
      <a href="../articles/Vig_6.html">Vignette_6</a>
    </li>
    <li>
      <a href="../articles/Vig_7.html">Vignette_7</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Vig_6_files/header-attrs-2.7/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Vignette_6</h1>
            
      
      
      <div class="hidden name"><code>Vig_6.Rmd</code></div>

    </div>

    
    
<div id="longitudinal-clcm-with-latent-regression-2-latent-classes" class="section level2">
<h2 class="hasAnchor">
<a href="#longitudinal-clcm-with-latent-regression-2-latent-classes" class="anchor"></a>Longitudinal CLCM with Latent Regression (2 latent classes)</h2>
<p>This extends our data generation to incorporate two new aspects:</p>
<ol style="list-style-type: decimal">
<li><p>Longitudinal data - two timepoints</p></li>
<li><p>Latent regression - two observed groups (e.g., Placebo arm and Treatment arm) are modeled.</p></li>
</ol>
<p>The other simulation data conditions we have already seen: we will have two latent classes (K=1), and we will use all 8 item types.</p>
<p>The stratified transition matrix is a transition matrix estimated separately for different groups. This is essentially for type of latent regression. Here we regress the latent classes at timepoint 2 onto the observed <code>Group</code>, which allows us to estimate a stratified transition matrix - this is the output of interest when, for example, we look at the differences in treatment arms (observed groups) in the proportion of subjects moving from the “Sick” latent class to the “Not Sick” latent class.</p>
</div>
<div id="specify-details-of-data-generation" class="section level2">
<h2 class="hasAnchor">
<a href="#specify-details-of-data-generation" class="anchor"></a>Specify Details of Data Generation</h2>
<p>First let’s specify the basics:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">CLCM</span><span class="op">)</span>
<span class="va">N</span> <span class="op">&lt;-</span> <span class="fl">2000</span>
<span class="va">number.timepoints</span> <span class="op">&lt;-</span> <span class="fl">2</span>
<span class="va">item.type</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Ordinal'</span>, <span class="st">'Nominal'</span>, <span class="st">'Poisson'</span>, <span class="st">'Neg_Binom'</span>, <span class="st">'ZINB'</span>, <span class="st">'ZIP'</span>, <span class="st">'Normal'</span>, <span class="st">'Beta'</span><span class="op">)</span> 
<span class="va">sim.categories.j</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">30</span>, <span class="fl">30</span>, <span class="fl">30</span>, <span class="fl">30</span>, <span class="cn">NA</span>, <span class="cn">NA</span><span class="op">)</span> 
<span class="va">J</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">item.type</span><span class="op">)</span>
<span class="va">item.names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">'Item_'</span>, <span class="fl">1</span><span class="op">:</span><span class="va">J</span><span class="op">)</span>
<span class="va">Q</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span>, nrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">item.type</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">1</span>, dimnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">'Item_'</span>, <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">item.type</span><span class="op">)</span><span class="op">)</span>, <span class="cn">NULL</span><span class="op">)</span><span class="op">)</span>
<span class="va">K</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">Q</span><span class="op">)</span> </code></pre></div>
<p>Now that those basics have been handled, let’s focus on generating posterior distributions with differences across observed groups. This will be recovered later via latent regression.</p>
<div id="subject-posterior-distributions-via-latent-regression" class="section level3">
<h3 class="hasAnchor">
<a href="#subject-posterior-distributions-via-latent-regression" class="anchor"></a>Subject Posterior Distributions via Latent Regression</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">number.groups</span> <span class="op">&lt;-</span> <span class="fl">2</span>
<span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  <span class="st">'USUBJID'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">'Subject_'</span>, <span class="fu"><a href="https://rdrr.io/r/base/formatc.html">formatC</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">N</span>, width <span class="op">=</span> <span class="fl">4</span>, flag <span class="op">=</span> <span class="st">'0'</span><span class="op">)</span><span class="op">)</span>, length.out<span class="op">=</span> <span class="va">N</span><span class="op">*</span><span class="va">number.timepoints</span><span class="op">)</span>,
  <span class="st">'Group'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">'Group_'</span>, <span class="fl">1</span><span class="op">:</span><span class="va">number.groups</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="va">N</span><span class="op">*</span><span class="va">number.timepoints</span><span class="op">)</span>,
  <span class="st">'Time'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">'Time_'</span>, <span class="fl">1</span><span class="op">:</span><span class="va">number.timepoints</span><span class="op">)</span>, each <span class="op">=</span> <span class="va">N</span><span class="op">)</span>,
  stringsAsFactors<span class="op">=</span><span class="cn">F</span><span class="op">)</span>

<span class="co"># Design Matrix</span>
<span class="va">X</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/model.matrix.html">model.matrix</a></span><span class="op">(</span> <span class="op">~</span> <span class="va">Group</span><span class="op">*</span><span class="va">Time</span>, data <span class="op">=</span> <span class="va">dat</span><span class="op">)</span> 
<span class="co"># Beta</span>
<span class="va">Beta</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">0</span>, nrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span>, dimnames<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span>, <span class="st">'param'</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Small separation between txa:</span>
<span class="va">Beta</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grepl</a></span><span class="op">(</span><span class="st">'Group_2:Time'</span>, <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">Beta</span><span class="op">)</span><span class="op">)</span>, <span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span>
<span class="va">Beta</span>
<span class="co">#&gt;                         param</span>
<span class="co">#&gt; (Intercept)                 0</span>
<span class="co">#&gt; GroupGroup_2                0</span>
<span class="co">#&gt; TimeTime_2                  0</span>
<span class="co">#&gt; GroupGroup_2:TimeTime_2     1</span>

<span class="co"># Matrix multiply:</span>
<span class="va">XB</span> <span class="op">&lt;-</span> <span class="va">X</span> <span class="op">%*%</span> <span class="va">Beta</span>
<span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="va">XB</span><span class="op">)</span><span class="op">/</span><span class="op">(</span><span class="fl">1</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">exp</a></span><span class="op">(</span><span class="va">XB</span><span class="op">)</span><span class="op">)</span>
<span class="va">lca</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">&lt;</span> <span class="va">p</span>
<span class="va">lca</span> <span class="op">&lt;-</span> <span class="va">lca</span> <span class="op">+</span> <span class="fl">1</span>

<span class="va">post</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">0</span>, nrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">^</span><span class="va">K</span><span class="op">)</span>
<span class="va">post</span><span class="op">[</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">lca</span><span class="op">)</span>, <span class="va">lca</span><span class="op">)</span> <span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="co"># True posterior distributions - pass to simulation function</span></code></pre></div>
</div>
</div>
<div id="simulate-item-responses" class="section level2">
<h2 class="hasAnchor">
<a href="#simulate-item-responses" class="anchor"></a>Simulate Item Responses</h2>
<p>Now we have generated the posterior distributions. Let’s pass those posterior distributions to the simulation function to simulate the item responses.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">03082021</span><span class="op">)</span>
<span class="va">sim.dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/simulate_clcm.html">simulate_clcm</a></span><span class="op">(</span>N <span class="op">=</span> <span class="va">N</span>, number.timepoints <span class="op">=</span> <span class="va">number.timepoints</span>, 
                         Q <span class="op">=</span> <span class="va">Q</span>, 
                         item.names <span class="op">=</span> <span class="va">item.names</span>, 
                         item.type <span class="op">=</span> <span class="va">item.type</span>, 
                         categories.j <span class="op">=</span> <span class="va">sim.categories.j</span>, 
                         post <span class="op">=</span> <span class="va">post</span><span class="op">)</span></code></pre></div>
<p>Now we have the item responses generated. We also have the Q-matrix, the item type, and the item names. We are almost ready to estimate the model. However, first, we want to merge in the observed group <code>Group</code> variable. Merge the dataframe with the Observed Group membership with the simulated dataframe. You need the <code>Group</code> variable with the item responses to pass to the model estimation function. If you don’t, the esimtation routine won’t have a <code>Group</code> variable to compute the latent regression with.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dat.cov</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">dat</span>, y <span class="op">=</span> <span class="va">sim.dat</span><span class="op">$</span><span class="va">dat</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'USUBJID'</span>, <span class="st">'Time'</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div id="estimate-clcm" class="section level2">
<h2 class="hasAnchor">
<a href="#estimate-clcm" class="anchor"></a>Estimate CLCM</h2>
<p>We need to specify our latent regression model. Here we specify a regression of the latent classes on the <code>Group</code> variable at timepoint 2 only. In other words, we specify that we want to model the transition matrix stratified on the <code>Group</code> variable.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/clcm.html">clcm</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">dat.cov</span>, 
            item.type <span class="op">=</span> <span class="va">item.type</span>, 
            item.names <span class="op">=</span> <span class="va">item.names</span>, 
            Q <span class="op">=</span> <span class="va">Q</span>, max.diff <span class="op">=</span> <span class="fl">0.001</span>, 
            lat.reg <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'Time_1'</span> <span class="op">=</span> <span class="cn">NULL</span>, 
                            <span class="st">'Time_2'</span> <span class="op">=</span> <span class="st">'Group'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; iteration:  1   max diff in item parameter estimates:  7.166888 </span>
<span class="co">#&gt; iteration:  2   max diff in item parameter estimates:  6.079602 </span>
<span class="co">#&gt; iteration:  3   max diff in item parameter estimates:  0.114464 </span>
<span class="co">#&gt; iteration:  4   max diff in item parameter estimates:  0.002342 </span>
<span class="co">#&gt; iteration:  5   max diff in item parameter estimates:  0.00074</span></code></pre></div>
</div>
<div id="transition-matrix" class="section level2">
<h2 class="hasAnchor">
<a href="#transition-matrix" class="anchor"></a>Transition Matrix</h2>
<p>After estimating the model, check the latent regression parameters and the transition matrix:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">Beta</span> <span class="co"># Generating parameter</span>
<span class="co">#&gt;                         param</span>
<span class="co">#&gt; (Intercept)                 0</span>
<span class="co">#&gt; GroupGroup_2                0</span>
<span class="co">#&gt; TimeTime_2                  0</span>
<span class="co">#&gt; GroupGroup_2:TimeTime_2     1</span>
<span class="va">mod</span><span class="op">$</span><span class="va">lat.reg.param</span>  <span class="co"># estimate</span>
<span class="co">#&gt;                     [,1]</span>
<span class="co">#&gt; (Intercept)  -0.01113621</span>
<span class="co">#&gt; GroupGroup_2  0.91986766</span>
<span class="fu"><a href="../reference/transition_matrix_clcm.html">transition_matrix_clcm</a></span><span class="op">(</span>mod <span class="op">=</span> <span class="va">mod</span>, stratification <span class="op">=</span> <span class="cn">T</span>, covariate <span class="op">=</span> <span class="st">'Group'</span><span class="op">)</span>
<span class="co">#&gt; $Group_1</span>
<span class="co">#&gt;           post_LC_0 post_LC_1</span>
<span class="co">#&gt; post_LC_0 0.5127149 0.4872851</span>
<span class="co">#&gt; post_LC_1 0.4941222 0.5058778</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $Group_2</span>
<span class="co">#&gt;           post_LC_0 post_LC_1</span>
<span class="co">#&gt; post_LC_0 0.3052772 0.6947228</span>
<span class="co">#&gt; post_LC_1 0.2700892 0.7299108</span></code></pre></div>
</div>
<div id="classification-accuracy" class="section level2">
<h2 class="hasAnchor">
<a href="#classification-accuracy" class="anchor"></a>Classification Accuracy</h2>
<p>Finally, check the classification accuracy by comparing the true classifications with the estimates.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">lca.hat</span> <span class="op">&lt;-</span> <span class="va">mod</span><span class="op">$</span><span class="va">dat</span><span class="op">$</span><span class="va">lca</span> 
<span class="va">lca.true</span> <span class="op">&lt;-</span> <span class="va">mod</span><span class="op">$</span><span class="va">dat</span><span class="op">$</span><span class="va">true_lca</span>      
<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">lca.true</span> <span class="op">==</span> <span class="va">lca.hat</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; TRUE </span>
<span class="co">#&gt; 4000</span>
<span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html">xtabs</a></span><span class="op">(</span> <span class="op">~</span> <span class="va">lca.true</span> <span class="op">+</span> <span class="va">lca.hat</span><span class="op">)</span>
<span class="co">#&gt;         lca.hat</span>
<span class="co">#&gt; lca.true    1    2</span>
<span class="co">#&gt;        1 1744    0</span>
<span class="co">#&gt;        2    0 2256</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Charlie Iaconangelo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
